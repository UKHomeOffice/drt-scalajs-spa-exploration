# Config file in HOCON format.  See following for more information:
# https://www.playframework.com/documentation/latest/Configuration

portcode = "test"

enable-statsd = false

akka {
  loglevel: "WARNING"
  loglevel: ${?ENV_LOG_LEVEL}
  log-dead-letters = 0,
  warn-about-java-serializer-usage = false
  jvm-exit-on-fatal-error = true
  persistence {
    journal.plugin = inmemory-journal
    read-journal.plugin = inmemory-journal
    no-snapshot-store.class = akka.persistence.snapshot.NoSnapshotStore
    snapshot-store.plugin = inmemory-snapshot-store
  }
}

aggregated-db {
  connectionPool = disabled
  driver = "org.h2.Driver"
  url = "jdbc:h2:mem:drt;DB_CLOSE_DELAY=-1"
  keepAliveConnection = true
}

inmemory-read-journal {
  # Absolute path to the write journal plugin configuration section to get the event adapters from
  write-plugin = "inmemory-journal"

  # there are two modes; sequence or uuid. If set to "sequence" and NoOffset will be requested, then
  # the query will return Sequence offset types. If set to "uuid" and NoOffset will be requested, then
  # the query will return TimeBasedUUID offset types. When the query is called with Sequence then
  # the query will return Sequence offset types and if the query is called with TimeBasedUUID types then
  # the query will return TimeBasedUUID offset types.
  offset-mode = "sequence"

  # ask timeout on Futures
  ask-timeout = "10s"

  # New events are retrieved (polled) with this interval.
  refresh-interval = "100ms"

  # How many events to fetch in one query (replay) and keep buffered until they
  # are delivered downstreams.
  max-buffer-size = "100"
}
