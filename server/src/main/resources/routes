# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# Home page
GET           /                                                    controllers.Application.index
GET           /health-check                                        controllers.Application.healthCheck

GET           /airport-config                                      controllers.Application.getAirportConfig
GET           /contact-details                                     controllers.Application.getContactDetails

GET           /ooh-status                                          controllers.Application.getOOHStatus
GET           /feature-flags                                       controllers.Application.getFeatureFlags

GET           /airport-info                                        controllers.Application.getAirportInfo

GET           /alerts/:createdAfter                                controllers.Application.getAlerts(createdAfter: Long)
POST          /alerts                                              controllers.Application.addAlert
DELETE        /alerts                                              controllers.Application.deleteAlerts

GET           /version                                             controllers.Application.getApplicationVersion
GET           /application-config                                  controllers.Application.getApplicationConfig

GET           /crunch                                              controllers.Application.getCrunch
GET           /crunch-snapshot/:pit                                controllers.Application.getCrunchSnapshot(pit: Long)

GET           /feed-statuses                                       controllers.Application.getFeedStatuses
GET           /arrival/:number/:terminal/:scheduled                controllers.Application.getArrival(number: Int, terminal: String, scheduled: Long)
GET           /arrival/:pointInTime/:number/:terminal/:scheduled   controllers.Application.getArrivalAtPointInTime(pointInTime: Long, number: Int, terminal: String, scheduled: Long)
GET           /manifest/:scheduled/:origin/:voyageNumber/age-ranges controllers.Application.getPassengerAgesForFlight(scheduled: String, origin: String, voyageNumber: Int)
GET           /manifest/:scheduled/:origin/:voyageNumber/nationalities controllers.Application.getPassengerNationalitiesForFlight(scheduled: String, origin: String, voyageNumber: Int)

GET           /logged-in                                           controllers.Application.isLoggedIn

GET           /fixed-points                                        controllers.Application.getFixedPoints
POST          /fixed-points                                        controllers.Application.saveFixedPoints

GET           /export/desk-recs/:startLD/:endLD/:terminalName              controllers.Application.exportDesksAndQueuesRecsBetweenTimeStampsCSV(startLD, endLD, terminalName)
GET           /export/desk-recs/snapshot/:localDay/:pointInTime/:terminalName             controllers.Application.exportDesksAndQueuesRecsAtPointInTimeCSV(localDay, pointInTime, terminalName)
GET           /export/desk-deps/:startLD/:endLD/:terminalName              controllers.Application.exportDesksAndQueuesDepsBetweenTimeStampsCSV(startLD, endLD, terminalName)
GET           /export/desk-deps/snapshot/:localDay/:pointInTime/:terminalName             controllers.Application.exportDesksAndQueuesDepsAtPointInTimeCSV(localDay, pointInTime, terminalName)
GET           /export/arrivals/:startLocalDay/:endLocalDay/:terminalName  controllers.Application.exportFlightsWithSplitsForDateRangeCSV(startLocalDay: String, endLocalDay: String, terminalName: String)
GET           /export/arrivals/snapshot/:localDay/:pointInTime/:terminalName  controllers.Application.exportFlightsWithSplitsForDayAtPointInTimeCSV(localDay: String, pointInTime: Long, terminalName: String)

GET           /export/arrivals-feed/:terminal/:start/:end/:feedSource        controllers.Application.exportArrivalsFromFeed(terminal: String, start: Long, end: Long, feedSource: String)
GET           /export/planning/:weekStarting/:terminalName         controllers.Application.exportForecastWeekToCSV(weekStarting, terminalName)
GET           /export/headlines/:weekStarting/:terminalName        controllers.Application.exportForecastWeekHeadlinesToCSV(weekStarting, terminalName)
GET           /export/users                                        controllers.Application.exportUsers
GET           /export/staff-movements/:pointInTime/:terminal       controllers.Application.exportStaffMovements(terminal: String, pointInTime: Long)
GET           /export/desk-rec-simulation                          controllers.Application.simulationImport

POST          /migrations/flights/:legacyType/start                controllers.Application.startFlightMigration(legacyType: Int)
POST          /migrations/flights/:legacyType/stop                 controllers.Application.stopFlightMigration(legacyType: Int)
GET           /migrations/flights                                  controllers.Application.flightMigrationStatus

# Map static resources from the /public folder to the /assets URL path
GET           /assets/fonts/*file                                  controllers.Assets.at(path="/public/lib/font-awesome/fonts", file)
GET           /assets/images/*file                                 controllers.Assets.at(path="/public/images", file)
GET           /assets/*file                                        controllers.Assets.versioned(path="/public", file: Asset)

# Autowire calls
POST          /api/*path                                           controllers.Application.autowireApi(path: String)

GET           /data/user                                           controllers.Application.getLoggedInUser()

POST          /data/login                                          controllers.Application.apiLogin()

GET           /data/user/has-port-access                           controllers.Application.getUserHasPortAccess()

GET           /data/actor-tree                                     controllers.Application.getActorTree()
GET           /debug/flights/:persistenceId/:dateString/:messages  controllers.Application.getMessagesForFlightPersistenceIdAtTime(persistenceId: String, dateString: String, messages: Int)


# Logging
POST          /logging                                             controllers.Application.logging


POST          /data/staff                                          controllers.Application.saveStaff
GET           /staff-movements                                     controllers.Application.getStaffMovements(pointInTime: Option[Long])
POST          /staff-movements                                     controllers.Application.addStaffMovements()
DELETE        /staff-movements/:uuid                               controllers.Application.removeStaffMovements(uuid: java.util.UUID)

# Feed import
POST          /data/feed/:feedType/:portCode                       controllers.Application.feedImport(feedType: String, portCode: String)

# Test related
POST          /test/arrival                                        test.controllers.TestController.addArrival

POST          /test/arrivals/:forDate                              test.controllers.TestController.addArrivals(forDate)

POST          /test/manifest                                       test.controllers.TestController.addManifest

POST          /test/mock-roles                                     test.controllers.TestController.setMockRoles()
GET           /test/mock-roles-set                                 test.controllers.TestController.setMockRolesByQueryString()

DELETE        /test/data                                           test.controllers.TestController.deleteAllData()
